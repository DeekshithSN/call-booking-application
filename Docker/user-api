FROM node:17.9.0-slim
LABEL maintainer=DeekshithSN
WORKDIR /app
RUN useradd user-api
COPY . .
RUN apt-get update -y \
  && apt-get install libcap2-bin -y \
  && setcap cap_net_bind_service=+ep `readlink -f \`which node\``
RUN npm install
EXPOSE 1004
ENV MONGO_URL=""
ENV ADMIN_EMAIL=""
USER user-api
CMD ["npm","start"]
